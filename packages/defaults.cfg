// Blood Frontier: FPS Default Configuration

exec "packages/keymap.cfg"
exec "packages/engine.cfg"
exec "packages/brush.cfg"
exec "packages/menus.cfg"
exec "packages/sounds.cfg"

demo    = [ mode -3; map $arg1 ]
sp      = [ mode -2; map $arg1 ]
dmsp    = [ mode -1; map $arg1 ]
ffa     = [ mode  0; map $arg1 ]
coop    = [ mode  1; map $arg1 ]
insta   = [ mode  4; map $arg1 ]
instateam = [ mode 5; map $arg1 ]
efficiency = [ mode 6; map $arg1 ]
capture = [ mode 12; map $arg1 ]
instacapture = [ mode 13; map $arg1 ]

mapcomplete map
mapcomplete sp
mapcomplete dmsp
mapcomplete ffa
mapcomplete coop
mapcomplete insta
mapcomplete instateam
mapcomplete efficiency
mapcomplete capture
mapcomplete instacapture
complete importcube packages/cube cgz
complete demo . dmo

causticnum 50

name "unnamed"
team "none"

bind W forward
bind A left
bind S backward
bind D right

bind UP "forward"
bind DOWN "backward"
bind RIGHT "right"
bind LEFT "left"

bind SPACE "jump"
bind MOUSE2 "jump"
bind MOUSE1 "attack"
bind MOUSE3 "weapon"

bind R repammo

bind TAB "showscores"

bind T "saycommand"
bind BACKQUOTE "saycommand /"
bind SLASH "saycommand /"

bind I taunt

bind E "edittoggle"

bind KP_MINUS "conskip 1"
bind KP_PLUS "conskip -1000"

bindvar F1 paused

bind F11 "toggleconsole"
bind F12 "screenshot"

bindvar F1 paused
bindvar F10 grabmouse
bind KP_MULTIPLY [ togglemusic ]
bind KP_DIVIDE [ togglesound ]
bind T "saycommand"
bind BACKQUOTE "saycommand /"
bind SLASH "saycommand /"

bind KP_MINUS "conskip 1"
bind KP_PLUS "conskip -1000"
bind F11 "toggleconsole"
bind F12 "screen"

editbind SPACE  [ cancelsel; passthroughsel 0 ] // meh.. will need to make better fix
editbind MOUSE1 [ editdrag ]
editbind MOUSE3 [ selcorners ]
editbind MOUSE2 [ editextend ]

editbind KP_ENTER [ entselect insel ]
editbind N        [ entselect insel ]
editbind M        [ selentfindall ]

editbind LSHIFT   editcut
editbindmod LCTRL passthrough
editbindmod LALT  passthrough
editbindmod RALT  passthrough

editbind X editflip
editbind C editcopy
editbind V editpaste
editbind Z [ undo; passthroughsel 0] 
editbind U [ undo; passthroughsel 0]
editbind I redo

brushcopy = 0
editbind H [ getheightmap; passthroughsel 1; if (= $brushcopy 0) [ selectbrush 0 ]; ]
editbind K [ copybrush; brushcopy = 1; ]

editbind BACKSPACE editdel

editbind G [ domodifier 1 ] // domodifier 1 -> executes delta_edit_1
editbind F [ domodifier 2 ] // etc...
editbind Q [ domodifier 3 ]
editbind R [ domodifier 4 ] 
editbind Y [ domodifier 6 ]
editbind B [ domodifier 9; brushcopy = 0; ]
editbind J [ domodifier 9; brushcopy = 0; ]
editbind COMMA  [ domodifier 10; onrelease entautoview ]

editbindvar 6 entselsnap
editbindvar 7 outline
editbindvar 8 wireframe
bindvar 9 thirdperson
editbindvar 0 allfaces
editbindvar L fullbright

editbind PERIOD selentedit

editbind TAB [ cleargui; showentgui ]
editbind F2 showtexgui
editbind F5 savemap
editbind F1 [ history 0 ]
editbind F7 [ autosave ]

editbind KP1 [ editmat air ]
editbind KP2 [ editmat clip ]
editbind KP3 [ editmat water ]
editbind KP4 [ editmat glass ]

editbind INSERT [ sendmap ]
editbind DELETE [ getmap ]

brushcopy = 0
editbind H [ getheightmap; passthroughsel 1; if (= $brushcopy 0) [ selectbrush 0 ]; ]
editbind K [ copybrush; brushcopy = 1; ]

bind MOUSE4 "universaldelta 1"	// also used for editing, see below
bind MOUSE5 "universaldelta -1"

editbind SPACE  [ cancelsel; passthroughsel 0 ] // meh.. will need to make better fix
editbind MOUSE1 "editdrag"
editbind MOUSE3 "selcorners"
editbind MOUSE2 "editextend"

editbind N        "entselect insel"
editbind M        "selentfindall"

editbind LSHIFT   "floatspeed 1000; onrelease [ floatspeed 100 ]"
editbindmod LCTRL passthrough
editbindmod LALT  passthrough
editbindmod RALT  passthrough

editbind X editflip
editbind C editcopy
editbind V editpaste
editbind Z editcut
editbind U [ undo; passthroughsel 0]
editbind I redo
editbind BACKSPACE editdel

editbind G "domodifier 1" // domodifier 1 -> executes delta_edit_1
editbind F "domodifier 2" // etc...
editbind Q "domodifier 3"
editbind R "domodifier 4" 
editbind Y "domodifier 6"
editbind B [ domodifier 9; brushcopy = 0; ]
editbind J [ domodifier 9; brushcopy = 0; ]
editbind COMMA  [ domodifier 10; onrelease entautoview ]

editbindvar 6 entselsnap
editbindvar 7 outline
editbindvar 8 wireframe
bindvar 9 thirdperson
editbindvar 0 allfaces
bindvar L fullbright

editbind PERIOD selentedit

editbind TAB [ cleargui; showentgui ]
editbind F2 showtexgui
editbind F3 calclight
editbind F4 calclight 3
editbind F5 recalc
editbind F6 savemap

editbind P [ showentdir (= $showentdir 0); showentradius (= $showentradius 0) ]

editbind 1 [ domodifier 11 ]
editbind 2 [ domodifier 12 ]
editbind 3 [ domodifier 13 ]
editbind 4 [ domodifier 14 ]

bind INSERT		[ botadd 1 ]
bind DELETE		[ botdel 1 ]
bind P			[
	if (= $botdrop 0) [
		botdrop 1; echo "now dropping waypoints"
	] [
		botdrop 0; echo "no longer dropping waypoints"
	]
]

editswitchmode = [
	if (= (getgamemode) 1) [
		edittoggle
	] [
		coop (mapname)
		sleep 1000 [ edittoggle ]
	]
]

bind E [ editswitchmode ]

bind HOME		[ cameramode ]
bind END		[ if (= $cameracycle 0) [ cameracycle 10; ] [ cameracycle 0; ] ]

loop c 255 [
	(concatword camera_name_ $c) = (concat Camera (concatword "#" (+ $c 1)))
]

bind C			[ domodifier 9 ]
delta_game_9 =	[ cameradir $arg1 ]

cm = 0
alias cameramode [
	if (= $cm 0) [
		spectator 1; cameradir 1; cameracycle 10; cm = 1;
	] [
		spectator 0; cameradir 0; cameracycle 10; cm = 0;
	]
]

// careful, weaponswitchstyle makes weapon act more quake-like: weapon <gun> [dir]
// gun: 0 fist, 1 pistol, 2 shotgun, 3 chaingun, 4 grenades, 5 rockets, 6 rifle
// if 'gun' is '-1' then use 'dir' to switch in that direction from the current gun selected

bind 0 [ if (= $weaponswitchstyle 1) [ weapon 0 ] [ weapon 0 1 2 ] ]
bind 1 [ if (= $weaponswitchstyle 1) [ weapon 1 ] [ weapon 1 2 4 ] ]
bind 2 [ if (= $weaponswitchstyle 1) [ weapon 2 ] [ weapon 2 1 4 ] ]
bind 3 [ if (= $weaponswitchstyle 1) [ weapon 3 ] [ weapon 3 4 2 ] ]
bind 4 [ if (= $weaponswitchstyle 1) [ weapon 4 ] [ weapon 4 3 2 ] ]
bind 5 [ if (= $weaponswitchstyle 1) [ weapon 5 ] [ weapon 5 3 1 ] ]
bind 6 [ if (= $weaponswitchstyle 1) [ weapon 6 ] [ weapon 6 2 4 ] ]
bind 7 [ if (= $weaponswitchstyle 1) [ weapon 7 ] [ weapon 7 0 1 ] ]

delta_game_0 = [
	if (= $weaponswitchstyle 1) [ weapon -1 $arg1 ] [ if (= $arg1 1) [ weapon 2 3 5 ] [ weapon 4 1 5 ] ]
]

bind MOUSE2 [ if (= (getgun) 4) [ zoom ] [ attack ] ]

bind F9 [
	setmaster 1
	sleep 100 [ mastermode 1 ]
]

bind F [ repammo ]
bind R [ taunt ]

bind V [ domodifier 2 ]
delta_game_2 = [
	tdp = (- $thirdpersondistance $arg1)
	if (> $tdp 1000) [ tdp = 1000 ]
	if (< $tdp 1) [ tdp = 1 ]
	thirdpersondistance $tdp
]

bind B [ domodifier 3 ]
delta_game_3 = [
	thp = (- $thirdpersonheight $arg1)
	if (> $tdp 1000) [ thp = 1000 ]
	if (< $tdp 1) [ thp = 1 ]
	thirdpersonheight $thp
]

bind LSHIFT [ thirdpersonstick 1; onrelease [ thirdpersonstick 0 ] ]
